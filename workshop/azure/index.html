
<!doctype html>
<html lang="en" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      
        <meta name="description" content="SANS Multi Cloud Data Security Workshop">
      
      
        <meta name="author" content="Brandon Evans">
      
      
      <link rel="icon" href="../../img/favicon.ico">
      <meta name="generator" content="mkdocs-1.3.0, mkdocs-material-8.2.11">
    
    
      
        <title>Azure - SANS Multi Cloud Data Security Workshop</title>
      
    
    
      <link rel="stylesheet" href="../../assets/stylesheets/main.8c5ef100.min.css">
      
        
        <link rel="stylesheet" href="../../assets/stylesheets/palette.9647289d.min.css">
        
          
          
          <meta name="theme-color" content="#ffffff">
        
      
    
    
    
      
        
        
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:300,300i,400,400i,700,700i%7CSource+Code+Pro:400,400i,700,700i&display=fallback">
        <style>:root{--md-text-font:"Roboto";--md-code-font:"Source Code Pro"}</style>
      
    
    
      <link rel="stylesheet" href="../../css/jquery.fancybox.min.css">
    
      <link rel="stylesheet" href="../../css/pdf.css">
    
      <link rel="stylesheet" href="../../css/html.css">
    
      <link rel="stylesheet" href="../../css/custom.css">
    
    <script>__md_scope=new URL("../..",location),__md_get=(e,_=localStorage,t=__md_scope)=>JSON.parse(_.getItem(t.pathname+"."+e)),__md_set=(e,_,t=localStorage,a=__md_scope)=>{try{t.setItem(a.pathname+"."+e,JSON.stringify(_))}catch(e){}}</script>
    
      

    
    
  </head>
  
  
    
    
    
    
    
    <body dir="ltr" data-md-color-scheme="" data-md-color-primary="white" data-md-color-accent="indigo">
  
    
    
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" for="__drawer"></label>
    <div data-md-component="skip">
      
        
        <a href="#azure" class="md-skip">
          Skip to content
        </a>
      
    </div>
    <div data-md-component="announce">
      
    </div>
    
    
      

<header class="md-header" data-md-component="header">
  <nav class="md-header__inner md-grid" aria-label="Header">
    <a href="../.." title="SANS Multi Cloud Data Security Workshop" class="md-header__button md-logo" aria-label="SANS Multi Cloud Data Security Workshop" data-md-component="logo">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="m12 3 8 6v12h-5v-7H9v7H4V9l8-6Z"/></svg>

    </a>
    <label class="md-header__button md-icon" for="__drawer">
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M3 6h18v2H3V6m0 5h18v2H3v-2m0 5h18v2H3v-2Z"/></svg>
    </label>
    <div class="md-header__title" data-md-component="header-title">
      <div class="md-header__ellipsis">
        <div class="md-header__topic">
          <span class="md-ellipsis">
            SANS Multi Cloud Data Security Workshop
          </span>
        </div>
        <div class="md-header__topic" data-md-component="header-topic">
          <span class="md-ellipsis">
            
              Azure
            
          </span>
        </div>
      </div>
    </div>
    
    
    
      <label class="md-header__button md-icon" for="__search">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5Z"/></svg>
      </label>
      <div class="md-search" data-md-component="search" role="dialog">
  <label class="md-search__overlay" for="__search"></label>
  <div class="md-search__inner" role="search">
    <form class="md-search__form" name="search">
      <input type="text" class="md-search__input" name="query" aria-label="Search" placeholder="Search" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="search-query" required>
      <label class="md-search__icon md-icon" for="__search">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5Z"/></svg>
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12Z"/></svg>
      </label>
      <nav class="md-search__options" aria-label="Search">
        
        <button type="reset" class="md-search__icon md-icon" aria-label="Clear" tabindex="-1">
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12 19 6.41Z"/></svg>
        </button>
      </nav>
      
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" data-md-scrollfix>
        <div class="md-search-result" data-md-component="search-result">
          <div class="md-search-result__meta">
            Initializing search
          </div>
          <ol class="md-search-result__list"></ol>
        </div>
      </div>
    </div>
  </div>
</div>
    
    
  </nav>
  
</header>
    
    <div class="md-container" data-md-component="container">
      
      
        
          
            
<nav class="md-tabs" aria-label="Tabs" data-md-component="tabs">
  <div class="md-tabs__inner md-grid">
    <ul class="md-tabs__list">
      
        
  
  


  <li class="md-tabs__item">
    <a href="../.." class="md-tabs__link">
      Home
    </a>
  </li>

      
        
  
  
    
  


  
  
  
    <li class="md-tabs__item">
      <a href="../" class="md-tabs__link md-tabs__link--active">
        Workshop
      </a>
    </li>
  

      
        
  
  


  <li class="md-tabs__item">
    <a href="../../resources/" class="md-tabs__link">
      Resources
    </a>
  </li>

      
    </ul>
  </div>
</nav>
          
        
      
      <main class="md-main" data-md-component="main">
        <div class="md-main__inner md-grid">
          
            
              
              <div class="md-sidebar md-sidebar--primary" data-md-component="sidebar" data-md-type="navigation" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    

  


<nav class="md-nav md-nav--primary md-nav--lifted" aria-label="Navigation" data-md-level="0">
  <label class="md-nav__title" for="__drawer">
    <a href="../.." title="SANS Multi Cloud Data Security Workshop" class="md-nav__button md-logo" aria-label="SANS Multi Cloud Data Security Workshop" data-md-component="logo">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="m12 3 8 6v12h-5v-7H9v7H4V9l8-6Z"/></svg>

    </a>
    SANS Multi Cloud Data Security Workshop
  </label>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
      

  
  
  
    <li class="md-nav__item">
      <a href="../.." class="md-nav__link">
        Home
      </a>
    </li>
  

    
      
      
      

  
  
    
  
  
    
    <li class="md-nav__item md-nav__item--active md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_2" type="checkbox" id="__nav_2" checked>
      
      
      
        
          
            
          
        
          
            
          
        
          
            
          
        
          
            
          
        
      
      
        
        
        <div class="md-nav__link md-nav__link--index ">
          <a href="../">Workshop</a>
          
            <label for="__nav_2">
              <span class="md-nav__icon md-icon"></span>
            </label>
          
        </div>
      
      <nav class="md-nav" aria-label="Workshop" data-md-level="1">
        <label class="md-nav__title" for="__nav_2">
          <span class="md-nav__icon md-icon"></span>
          Workshop
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../aws/" class="md-nav__link">
        AWS
      </a>
    </li>
  

            
          
            
              
  
  
    
  
  
    <li class="md-nav__item md-nav__item--active">
      
      <input class="md-nav__toggle md-toggle" data-md-toggle="toc" type="checkbox" id="__toc">
      
      
        
      
      
        <label class="md-nav__link md-nav__link--active" for="__toc">
          Azure
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <a href="./" class="md-nav__link md-nav__link--active">
        Azure
      </a>
      
        

<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#initialize-an-azure-subscription" class="md-nav__link">
    Initialize an Azure Subscription
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#create-a-storage-account-and-upload-the-mock-data" class="md-nav__link">
    Create a Storage Account and Upload the Mock Data
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#generate-and-use-an-azure-storage-shared-access-signatures-sas" class="md-nav__link">
    Generate and Use an Azure Storage Shared Access Signatures (SAS)
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#terminate-cloud-resources-and-instance" class="md-nav__link">
    Terminate Cloud Resources and Instance
  </a>
  
    <nav class="md-nav" aria-label="Terminate Cloud Resources and Instance">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#delete-storage-account" class="md-nav__link">
    Delete Storage Account
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#cancel-subscription" class="md-nav__link">
    Cancel Subscription
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
    </ul>
  
</nav>
      
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../google/" class="md-nav__link">
        Google Cloud
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

    
      
      
      

  
  
  
    <li class="md-nav__item">
      <a href="../../resources/" class="md-nav__link">
        Resources
      </a>
    </li>
  

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
              
              <div class="md-sidebar md-sidebar--secondary" data-md-component="sidebar" data-md-type="toc" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    

<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#initialize-an-azure-subscription" class="md-nav__link">
    Initialize an Azure Subscription
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#create-a-storage-account-and-upload-the-mock-data" class="md-nav__link">
    Create a Storage Account and Upload the Mock Data
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#generate-and-use-an-azure-storage-shared-access-signatures-sas" class="md-nav__link">
    Generate and Use an Azure Storage Shared Access Signatures (SAS)
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#terminate-cloud-resources-and-instance" class="md-nav__link">
    Terminate Cloud Resources and Instance
  </a>
  
    <nav class="md-nav" aria-label="Terminate Cloud Resources and Instance">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#delete-storage-account" class="md-nav__link">
    Delete Storage Account
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#cancel-subscription" class="md-nav__link">
    Cancel Subscription
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
    </ul>
  
</nav>
                  </div>
                </div>
              </div>
            
          
          <div class="md-content" data-md-component="content">
            <article class="md-content__inner md-typeset">
              
                


<h1 id="azure">Azure</h1>
<h2 id="initialize-an-azure-subscription">Initialize an Azure Subscription</h2>
<div class="admonition danger">
<p class="admonition-title">Important</p>
<p><strong>You must not use a cloud account with existing personal or corporate resources.</strong> We will be uploading sensitive files that should not be in production environments.</p>
</div>
<ol>
<li>
<p>Browse to the <a href="https://portal.azure.com">Azure Portal</a>.</p>
</li>
<li>
<p>Login to an existing Microsoft account or create a new one:</p>
<p><img alt="" src="img/0001.png" /></p>
</li>
<li>
<p>Dismiss any pop-up boxes in the portal until you see a listing of Azure services.</p>
</li>
<li>
<p>Click <strong>Start</strong> under <em>Start with an Azure free trial</em> and follow all of the prompts until you are back at the portal:</p>
<p><img alt="" src="img/free_trial.png" /></p>
</li>
</ol>
<h2 id="create-a-storage-account-and-upload-the-mock-data">Create a Storage Account and Upload the Mock Data</h2>
<ol>
<li>
<p>In the Azure Portal, type <strong>Storage accounts</strong> in the search bar and click the first result under <em>Services</em>:</p>
<p><img alt="" src="img/go-to-storage.png" /></p>
</li>
<li>
<p>Click <strong>Create storage account</strong>:</p>
<p><img alt="" src="img/create-storage-account.png" /></p>
</li>
<li>
<p>Click <strong>Create new</strong> to create a new resource group and give it any name that you would like. Then, give the storage account a globally unique name, such as <em>sansworkshop**YOUR_NAME**</em>. If the resulting bucket name is more than 24 characters, please abbreviate. Then, click <strong>Review</strong>:</p>
<p><img alt="" src="img/create-storage-account-review.png" /></p>
</li>
<li>
<p>After Azure finishes running its final validation, click <strong>Create</strong>:</p>
<p><img alt="" src="img/create-storage-account-confirm.png" /></p>
</li>
<li>
<p>Wait for the deployment to complete. Then, click <strong>Go to resource</strong>:</p>
<p><img alt="" src="img/go-to-resource.png" /></p>
</li>
<li>
<p>Click <strong>Containers</strong>:</p>
<p><img alt="" src="img/go-to-containers.png" /></p>
</li>
<li>
<p>Click <strong>+ Container</strong>, give the container any name that you would like, make sure that <em>Public access level</em> is set to <strong>Private (no anonymous access)</strong>, and click <strong>Create</strong>:</p>
<p><img alt="" src="img/create-container.png" /></p>
</li>
<li>
<p>Click on the newly created container. Then, click <strong>Upload</strong>, <strong>Browse for files</strong> and select the <em>MOCK_DATA*.csv</em> files generated earlier:</p>
<p><img alt="" src="img/upload-files.png" /></p>
</li>
<li>
<p>Then, click <strong>Upload</strong>:</p>
<p><img alt="" src="img/upload-files-confirm.png" /></p>
</li>
</ol>
<h2 id="generate-and-use-an-azure-storage-shared-access-signatures-sas">Generate and Use an Azure Storage Shared Access Signatures (SAS)</h2>
<ol>
<li>
<p>Close the upload file modal. Then, click the <strong>...</strong> next to one of the uploaded files and click <strong>Generate SAS</strong>:</p>
<p><img alt="" src="img/generate-sas.png" /></p>
</li>
<li>
<p><strong>Without changing any settings, click **Generate SAS token and URL</strong>:</p>
<p><img alt="" src="img/generate-sas-confirm.png" /></p>
</li>
<li>
<p>Scroll down and view the <strong>Blob SAS token</strong>. It consists of several components:</p>
<ul>
<li><code>se</code> (<code>signedexpiry</code>) - <a href="https://docs.microsoft.com/en-us/rest/api/storageservices/create-service-sas#specifying-the-access-policy" rel="noopener" target="_blank">The date this token will expire</a>.</li>
<li><code>sp</code> (<code>signedpermissions</code>) - <a href="https://docs.microsoft.com/en-us/rest/api/storageservices/create-service-sas#permissions-for-a-blob" rel="noopener" target="_blank">The permission(s) granted by the token</a>. For blobs, this is one or more of the following: <code>r</code> (Read), <code>a</code> (Add), <code>c</code> (Create), <code>w</code> (Write), <code>d</code> (Delete), and <code>l</code> (List).</li>
<li><code>sv</code> (<code>signedversion</code>) - <a href="https://docs.microsoft.com/en-us/rest/api/storageservices/create-service-sas#specifying-the-signed-version-field" rel="noopener" target="_blank">The release date</a> of <a href="https://docs.microsoft.com/en-us/rest/api/storageservices/version-2018-11-09" rel="noopener" target="_blank">this version of the storage service</a>.</li>
<li><code>sr</code> (<code>signedresource</code>) - <a href="https://docs.microsoft.com/en-us/rest/api/storageservices/create-service-sas#specifying-the-signed-resource-blob-service-only" rel="noopener" target="_blank">The type of resource that can be accessed with this SAS</a>. In this case, it is <code>b</code> to indicate that it is for a single blob.</li>
<li><code>sig</code> - The actual signature.</li>
</ul>
<p>Another optional but useful field is <code>st</code>, or <code>signedstart</code>, which <a href="https://docs.microsoft.com/en-us/rest/api/storageservices/create-service-sas#specifying-the-access-policy" rel="noopener" target="_blank">prevents access until the specified time</a>.</p>
</li>
<li>
<p>Copy the Blob SAS URL and open it using an unauthenticated browser session (e.g., Chrome's Incognito Mode). You should now be able to download this sensitive file without providing any additional credentials!</p>
</li>
</ol>
<h2 id="terminate-cloud-resources-and-instance">Terminate Cloud Resources and Instance</h2>
<h3 id="delete-storage-account">Delete Storage Account</h3>
<p>Navigate to the storage account, click <strong>Delete</strong>, enter the storage account name, and click delete:</p>
<p><img alt="" src="img/delete-storage-account.png" /></p>
<h3 id="cancel-subscription">Cancel Subscription</h3>
<p>To guarantee that additional bills will not accumulate, consider <a href="https://docs.microsoft.com/en-us/azure/cost-management-billing/manage/cancel-azure-subscription" rel="noopener" target="_blank">canceling your subscription</a> at the conclusion of the workshop. Alternatively, feel free to keep this account for future testing.</p>

              
            </article>
          </div>
        </div>
        
      </main>
      
        <footer class="md-footer">
  
    <nav class="md-footer__inner md-grid" aria-label="Footer">
      
        
        <a href="../aws/" class="md-footer__link md-footer__link--prev" aria-label="Previous: AWS" rel="prev">
          <div class="md-footer__button md-icon">
            <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12Z"/></svg>
          </div>
          <div class="md-footer__title">
            <div class="md-ellipsis">
              <span class="md-footer__direction">
                Previous
              </span>
              AWS
            </div>
          </div>
        </a>
      
      
        
        <a href="../google/" class="md-footer__link md-footer__link--next" aria-label="Next: Google Cloud" rel="next">
          <div class="md-footer__title">
            <div class="md-ellipsis">
              <span class="md-footer__direction">
                Next
              </span>
              Google Cloud
            </div>
          </div>
          <div class="md-footer__button md-icon">
            <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M4 11v2h12l-5.5 5.5 1.42 1.42L19.84 12l-7.92-7.92L10.5 5.5 16 11H4Z"/></svg>
          </div>
        </a>
      
    </nav>
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-copyright">
  
    <div class="md-copyright__highlight">
      ©2023 Brandon Evans
    </div>
  
  
    Made with
    <a href="https://squidfunk.github.io/mkdocs-material/" target="_blank" rel="noopener">
      Material for MkDocs
    </a>
  
</div>
      
    </div>
  </div>
</footer>
      
    </div>
    <div class="md-dialog" data-md-component="dialog">
      <div class="md-dialog__inner md-typeset"></div>
    </div>
    <script id="__config" type="application/json">{"base": "../..", "features": ["navigation.instant", "navigation.tabs", "navigation.indexes", "content.code.annotate"], "search": "../../assets/javascripts/workers/search.2a1c317c.min.js", "translations": {"clipboard.copied": "Copied to clipboard", "clipboard.copy": "Copy to clipboard", "search.config.lang": "en", "search.config.pipeline": "trimmer, stopWordFilter", "search.config.separator": "[\\s\\-]+", "search.placeholder": "Search", "search.result.more.one": "1 more on this page", "search.result.more.other": "# more on this page", "search.result.none": "No matching documents", "search.result.one": "1 matching document", "search.result.other": "# matching documents", "search.result.placeholder": "Type to start searching", "search.result.term.missing": "Missing", "select.version.title": "Select version"}}</script>
    
    
      <script src="../../assets/javascripts/bundle.748e2769.min.js"></script>
      
        <script src="../../js/jquery.min.js"></script>
      
        <script src="../../js/jquery.fancybox.min.js"></script>
      
        <script src="../../js/workbook.js"></script>
      
        <script src="../../js/custom.js"></script>
      
    
  </body>
</html>